USE [mposlunch]
GO

ALTER TABLE [dbo].[P_CLIENTE] DROP CONSTRAINT [FK_P_CLIENTE_P_MUNICIPIO]
GO

ALTER TABLE [dbo].[P_CLIENTE] DROP CONSTRAINT [FK_P_CLIENTE_P_DEPARTAMENTO]
GO

ALTER TABLE [dbo].[P_CLIENTE] DROP CONSTRAINT [DF__p_cliente__Nit__5812160E]
GO

ALTER TABLE [dbo].[P_CLIENTE] DROP CONSTRAINT [DF__p_cliente__Sueld__571DF1D5]
GO

ALTER TABLE [dbo].[P_CLIENTE] DROP CONSTRAINT [DF__p_cliente__IdTip__5629CD9C]
GO

/****** Object:  Table [dbo].[P_CLIENTE]    Script Date: 23/06/2020 11:52:32 ******/
DROP TABLE [dbo].[P_CLIENTE]
GO

/****** Object:  Table [dbo].[P_CLIENTE]    Script Date: 23/06/2020 11:52:32 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[P_CLIENTE](
	[CODIGO_CLIENTE] [int] IDENTITY(1,1) NOT NULL,
	[ID] [nvarchar](50) NOT NULL,
	[Contrase√±a] [nvarchar](50) NOT NULL,
	[IdTipoEmpleado] [int] NULL,
	[Nombre] [nvarchar](50) NOT NULL,
	[Celular] [int] NOT NULL,
	[Correo] [nvarchar](100) NOT NULL,
	[CODIGO_DEPARTAMENTO] [nvarchar](15) NOT NULL,
	[CODIGO_MUNICIPIO] [nvarchar](15) NOT NULL,
	[Sueldo] [money] NULL,
	[NIT] [nvarchar](15) NULL,
	[IsValid] [bit] NULL,
 CONSTRAINT [PK_P_CLIENTE_1] PRIMARY KEY CLUSTERED 
(
	[CODIGO_CLIENTE] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY],
 CONSTRAINT [U_ID] UNIQUE NONCLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[P_CLIENTE] ADD  DEFAULT ((5)) FOR [IdTipoEmpleado]
GO

ALTER TABLE [dbo].[P_CLIENTE] ADD  DEFAULT ((0)) FOR [Sueldo]
GO

ALTER TABLE [dbo].[P_CLIENTE] ADD  DEFAULT ('CF') FOR [NIT]
GO

ALTER TABLE [dbo].[P_CLIENTE]  WITH CHECK ADD  CONSTRAINT [FK_P_CLIENTE_P_DEPARTAMENTO] FOREIGN KEY([CODIGO_DEPARTAMENTO])
REFERENCES [dbo].[P_DEPARTAMENTO] ([CODIGO])
GO

ALTER TABLE [dbo].[P_CLIENTE] CHECK CONSTRAINT [FK_P_CLIENTE_P_DEPARTAMENTO]
GO

ALTER TABLE [dbo].[P_CLIENTE]  WITH CHECK ADD  CONSTRAINT [FK_P_CLIENTE_P_MUNICIPIO] FOREIGN KEY([CODIGO_MUNICIPIO])
REFERENCES [dbo].[P_MUNICIPIO] ([CODIGO])
GO

ALTER TABLE [dbo].[P_CLIENTE] CHECK CONSTRAINT [FK_P_CLIENTE_P_MUNICIPIO]
GO

